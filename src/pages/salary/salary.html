<!--
  Generated template for the SalaryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar color="primary">
    <ion-title>我的工资</ion-title>
  </ion-navbar>
  <div class="filter-bar-wrap">
    <filter-bars [filterItems]="filterItems" (onSelectFilterItem)="selectedFilterItem($event);"></filter-bars>
  </div>
</ion-header>

<ion-content>
  <!-- <div class="salary-data"> -->
  <!-- <filter-bars [filterItems]="filterItems" (onSelectFilterItem)="selectedFilterItem($event);"></filter-bars> -->
  <div class="empty-error-box" *ngIf="!!error">
    {{error}}
  </div>
  <!-- <ion-list> -->
  <div class="salaries">

    <virtual-scroller #scroll [items]="salaryData" [childHeight]="158">
      <div class="total-money" *ngIf="!!totalMoney">
        共计 {{totalMoney}} 元
      </div>
      <div *ngFor="let salary of scroll.viewPortItems" class="salary-item">
        <ion-item>
          <h2 text-wrap>{{salary.title}}</h2>
          <div class="job-info">
            <p text-wrap>「{{salary.project_name}}」{{salary.job_name}}</p>
          </div>
          <p class="pay-time">{{ salary.pay_time ? '确认发放时间: ' + salary.pay_time : '申请发放时间: ' + salary.time }}</p>
          <ion-note item-right style="text-align:right;">
            <p class="money"><span class="unit">¥</span>{{salary.money}}</p>
            <ion-badge color="{{salary.pay_time ? 'primary' : 'danger'}}">{{salary.pay_time ? '已发放' : '未发放'}}
            </ion-badge>
          </ion-note>
        </ion-item>
        <ion-item>
          <ion-avatar item-left>
            <img [src]="salary.comp_logo || 'assets/imgs/default_avatar.png'">
          </ion-avatar>
          <h2 class="comp-alias">{{salary.comp_alias}}</h2>
          <p class="comp-name">{{salary.comp_name}}</p>
        </ion-item>
      </div>
    </virtual-scroller>
  </div>
  <!-- </div> -->
</ion-content>